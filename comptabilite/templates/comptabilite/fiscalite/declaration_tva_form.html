{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "Déclaration TVA" %} - {{ block.super }}{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <!-- En-tête -->
    <div class="row mb-4">
        <div class="col-md-8">
            <h1 class="h3">
                {% if action == 'create' %}
                    {% trans "Créer une déclaration TVA" %}
                {% else %}
                    {% trans "Modifier la déclaration TVA" %}
                {% endif %}
            </h1>
        </div>
    </div>

    <!-- Formulaire -->
    <div class="card">
        <div class="card-body">
            <form method="post" novalidate>
                {% csrf_token %}

                <div class="row">
                    {% for field in form %}
                        {% if field.name != 'entreprise' %}
                        <div class="col-md-6 mb-3">
                            <label class="form-label" for="{{ field.id_for_label }}">
                                {{ field.label }}
                                {% if field.field.required %}<span class="text-danger">*</span>{% endif %}
                            </label>
                            {{ field }}
                            {% if field.help_text %}
                            <small class="form-text text-muted d-block mt-1">
                                {{ field.help_text|safe }}
                            </small>
                            {% endif %}
                            {% if field.errors %}
                            <div class="invalid-feedback d-block">
                                {{ field.errors.0 }}
                            </div>
                            {% endif %}
                        </div>
                        {% endif %}
                    {% endfor %}
                </div>

                <!-- Boutons -->
                <div class="mt-4">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> 
                        {% if action == 'create' %}
                            {% trans "Créer" %}
                        {% else %}
                            {% trans "Modifier" %}
                        {% endif %}
                    </button>
                    <a href="{% url 'comptabilite:declaration_tva_list' %}" class="btn btn-outline-secondary">
                        <i class="fas fa-times"></i> {% trans "Annuler" %}
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>

<style>
    .form-control, .form-select {
        border-color: #dee2e6;
    }
    .form-control:focus, .form-select:focus {
        border-color: #80bdff;
        box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    }
</style>
{% endblock %}
