# Generated by Django 5.2.7 on 2026-01-29 16:45

import django.core.validators
import django.db.models.deletion
import uuid
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('comptabilite', '0007_consolidation_reporting'),
        ('core', '0011_add_expatrie_fields'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='RegleFiscale',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=20, unique=True)),
                ('libelle', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('type_regle', models.CharField(choices=[('limite', 'Limite/Plafond'), ('taux', 'Taux applicable'), ('condition', "Condition d'éligibilité"), ('calcul', 'Règle de calcul'), ('delai', 'Délai')], max_length=20)),
                ('impot_concerne', models.CharField(max_length=20)),
                ('valeur_seuil', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('taux', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True)),
                ('formule', models.TextField(blank=True, help_text='Expression de calcul', null=True)),
                ('niveau_severite', models.CharField(choices=[('info', 'Information'), ('warning', 'Avertissement'), ('error', 'Erreur bloquante')], default='warning', max_length=10)),
                ('message_erreur', models.TextField()),
                ('date_debut_validite', models.DateField()),
                ('date_fin_validite', models.DateField(blank=True, null=True)),
                ('est_active', models.BooleanField(default=True)),
                ('reference_legale', models.CharField(blank=True, max_length=200, null=True)),
            ],
            options={
                'verbose_name': 'Règle fiscale',
                'verbose_name_plural': 'Règles fiscales',
                'db_table': 'fiscalite_regle',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='ApprovalMatrix',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=20)),
                ('libelle', models.CharField(max_length=200)),
                ('type_document', models.CharField(choices=[('facture', 'Facture'), ('bon_commande', 'Bon de commande'), ('demande_achat', "Demande d'achat"), ('note_frais', 'Note de frais'), ('contrat', 'Contrat'), ('paiement', 'Paiement'), ('ecriture', 'Écriture comptable'), ('budget', 'Budget'), ('autre', 'Autre')], max_length=20)),
                ('montant_min', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('montant_max', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('niveau_1_requis', models.BooleanField(default=True)),
                ('niveau_2_requis', models.BooleanField(default=False)),
                ('niveau_3_requis', models.BooleanField(default=False)),
                ('niveau_4_requis', models.BooleanField(default=False)),
                ('role_niveau_1', models.CharField(blank=True, max_length=100, null=True)),
                ('role_niveau_2', models.CharField(blank=True, max_length=100, null=True)),
                ('role_niveau_3', models.CharField(blank=True, max_length=100, null=True)),
                ('role_niveau_4', models.CharField(blank=True, max_length=100, null=True)),
                ('delai_niveau_1', models.IntegerField(default=2, help_text='Délai en jours')),
                ('delai_niveau_2', models.IntegerField(default=3)),
                ('delai_niveau_3', models.IntegerField(default=5)),
                ('delai_niveau_4', models.IntegerField(default=7)),
                ('est_active', models.BooleanField(default=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='matrices_approbation', to='core.entreprise')),
            ],
            options={
                'verbose_name': "Matrice d'approbation",
                'verbose_name_plural': "Matrices d'approbation",
                'db_table': 'controle_approval_matrix',
                'ordering': ['type_document', 'montant_min'],
            },
        ),
        migrations.CreateModel(
            name='CentreCouts',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=20)),
                ('libelle', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True, null=True)),
                ('type_centre', models.CharField(choices=[('principal', 'Centre principal'), ('auxiliaire', 'Centre auxiliaire'), ('structure', 'Centre de structure'), ('production', 'Centre de production'), ('distribution', 'Centre de distribution'), ('administration', "Centre d'administration")], max_length=15)),
                ('nature', models.CharField(choices=[('operationnel', 'Opérationnel'), ('fonctionnel', 'Fonctionnel'), ('projet', 'Projet')], default='operationnel', max_length=15)),
                ('niveau', models.IntegerField(default=1)),
                ('budget_annuel', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('unite_oeuvre', models.CharField(blank=True, help_text='Ex: heures machine, m², unités produites', max_length=50, null=True)),
                ('cout_unite_oeuvre', models.DecimalField(decimal_places=4, default=Decimal('0.00'), max_digits=10)),
                ('est_actif', models.BooleanField(default=True)),
                ('date_debut', models.DateField(blank=True, null=True)),
                ('date_fin', models.DateField(blank=True, null=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('centre_parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='sous_centres', to='comptabilite.centrecouts')),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='centres_crees', to=settings.AUTH_USER_MODEL)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='centres_couts', to='core.entreprise')),
                ('responsable', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='centres_responsable', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Centre de coûts',
                'verbose_name_plural': 'Centres de coûts',
                'db_table': 'analytique_centre_couts',
                'ordering': ['code'],
                'unique_together': {('entreprise', 'code')},
            },
        ),
        migrations.CreateModel(
            name='CleRepartition',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=20)),
                ('libelle', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True, null=True)),
                ('type_cle', models.CharField(choices=[('fixe', 'Pourcentage fixe'), ('variable', "Variable (unités d'œuvre)"), ('mixte', 'Mixte')], max_length=10)),
                ('base_repartition', models.CharField(help_text='Ex: effectif, surface, CA, heures', max_length=100)),
                ('est_active', models.BooleanField(default=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cles_repartition', to='core.entreprise')),
            ],
            options={
                'verbose_name': 'Clé de répartition',
                'verbose_name_plural': 'Clés de répartition',
                'db_table': 'analytique_cle_repartition',
                'unique_together': {('entreprise', 'code')},
            },
        ),
        migrations.CreateModel(
            name='DeclarationIRPP',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reference', models.CharField(max_length=50)),
                ('periodicite', models.CharField(choices=[('mensuel', 'Mensuel'), ('trimestriel', 'Trimestriel'), ('annuel', 'Annuel')], default='mensuel', max_length=15)),
                ('mois', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(12)])),
                ('trimestre', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(4)])),
                ('annee', models.IntegerField()),
                ('nombre_salaries', models.IntegerField(default=0)),
                ('masse_salariale_brute', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('retenue_tranche_1', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('retenue_tranche_2', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('retenue_tranche_3', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('retenue_tranche_4', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('retenue_tranche_5', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('total_retenues', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('penalites', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('montant_a_payer', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('statut', models.CharField(choices=[('brouillon', 'Brouillon'), ('calcule', 'Calculé'), ('valide', 'Validé'), ('depose', 'Déposé'), ('paye', 'Payé')], default='brouillon', max_length=20)),
                ('date_limite', models.DateField()),
                ('date_depot', models.DateField(blank=True, null=True)),
                ('date_paiement', models.DateField(blank=True, null=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='declarations_irpp', to='core.entreprise')),
            ],
            options={
                'verbose_name': 'Déclaration IRPP',
                'verbose_name_plural': 'Déclarations IRPP',
                'db_table': 'fiscalite_declaration_irpp',
                'ordering': ['-annee', '-mois'],
            },
        ),
        migrations.CreateModel(
            name='DeclarationIS',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reference', models.CharField(max_length=50)),
                ('type_declaration', models.CharField(choices=[('principale', 'Déclaration principale'), ('rectificative', 'Déclaration rectificative'), ('complementaire', 'Déclaration complémentaire')], default='principale', max_length=20)),
                ('periode_debut', models.DateField()),
                ('periode_fin', models.DateField()),
                ('resultat_comptable_brut', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('reintegrations_amortissements', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('reintegrations_provisions', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('reintegrations_amendes', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('reintegrations_dons_excessifs', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('autres_reintegrations', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('total_reintegrations', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('deductions_dividendes', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('deductions_plus_values', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('deductions_provisions_reglementees', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('autres_deductions', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('total_deductions', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('resultat_fiscal', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('deficits_anterieurs', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('base_imposable', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('taux_is', models.DecimalField(decimal_places=2, default=Decimal('25.00'), max_digits=5)),
                ('is_brut', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('credits_impot', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('is_net', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('acomptes_verses', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('solde_a_payer', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('minimum_fiscal', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('is_minimum_applicable', models.BooleanField(default=False)),
                ('statut', models.CharField(choices=[('brouillon', 'Brouillon'), ('calcule', 'Calculé'), ('valide', 'Validé'), ('depose', 'Déposé'), ('paye', 'Payé'), ('rectifie', 'Rectifié')], default='brouillon', max_length=20)),
                ('date_depot', models.DateField(blank=True, null=True)),
                ('date_paiement', models.DateField(blank=True, null=True)),
                ('date_validation', models.DateTimeField(blank=True, null=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='declarations_is', to='core.entreprise')),
                ('valide_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='declarations_is_validees', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Déclaration IS',
                'verbose_name_plural': 'Déclarations IS',
                'db_table': 'fiscalite_declaration_is',
                'ordering': ['-periode_fin'],
            },
        ),
        migrations.CreateModel(
            name='DelegationPouvoirs',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('type_pouvoir', models.CharField(choices=[('signature', 'Signature'), ('engagement', 'Engagement financier'), ('validation', 'Validation'), ('approbation', 'Approbation'), ('autorisation', 'Autorisation')], max_length=15)),
                ('domaine', models.CharField(max_length=100, verbose_name="Domaine d'application")),
                ('description', models.TextField()),
                ('montant_max', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='Montant maximum')),
                ('conditions', models.TextField(blank=True, null=True)),
                ('date_debut', models.DateField()),
                ('date_fin', models.DateField(blank=True, null=True)),
                ('statut', models.CharField(choices=[('active', 'Active'), ('suspendue', 'Suspendue'), ('expiree', 'Expirée'), ('revoquee', 'Révoquée')], default='active', max_length=15)),
                ('document_delegation', models.FileField(blank=True, null=True, upload_to='controle/delegations/')),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='delegations_creees', to=settings.AUTH_USER_MODEL)),
                ('delegant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='delegations_donnees', to=settings.AUTH_USER_MODEL)),
                ('delegataire', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='delegations_recues', to=settings.AUTH_USER_MODEL)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='delegations_pouvoirs', to='core.entreprise')),
            ],
            options={
                'verbose_name': 'Délégation de pouvoirs',
                'verbose_name_plural': 'Délégations de pouvoirs',
                'db_table': 'controle_delegation_pouvoirs',
                'ordering': ['-date_debut'],
            },
        ),
        migrations.CreateModel(
            name='DossierFiscalComplet',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reference', models.CharField(max_length=50, verbose_name='Référence dossier')),
                ('annee_fiscale', models.IntegerField()),
                ('date_ouverture', models.DateField()),
                ('date_cloture_exercice', models.DateField()),
                ('date_limite_depot', models.DateField()),
                ('date_depot_effectif', models.DateField(blank=True, null=True)),
                ('statut', models.CharField(choices=[('en_preparation', 'En préparation'), ('en_cours', 'En cours de validation'), ('valide', 'Validé'), ('depose', 'Déposé'), ('controle', 'En contrôle fiscal'), ('cloture', 'Clôturé')], default='en_preparation', max_length=20)),
                ('resultat_comptable', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('resultat_fiscal', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('total_impots_dus', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('total_impots_payes', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('date_validation', models.DateTimeField(blank=True, null=True)),
                ('observations', models.TextField(blank=True, null=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='dossiers_fiscaux_crees', to=settings.AUTH_USER_MODEL)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='dossiers_fiscaux', to='core.entreprise')),
                ('exercice', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='dossiers_fiscaux', to='comptabilite.exercicecomptable')),
                ('valide_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='dossiers_fiscaux_valides', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Dossier fiscal complet',
                'verbose_name_plural': 'Dossiers fiscaux complets',
                'db_table': 'fiscalite_dossier_complet',
                'ordering': ['-annee_fiscale'],
                'unique_together': {('entreprise', 'annee_fiscale')},
            },
        ),
        migrations.CreateModel(
            name='DocumentationFiscale',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('type_document', models.CharField(choices=[('justificatif', 'Justificatif'), ('calcul', 'Note de calcul'), ('correspondance', 'Correspondance administration'), ('avis', "Avis d'imposition"), ('quittance', 'Quittance de paiement'), ('controle', 'Document contrôle fiscal'), ('autre', 'Autre')], max_length=20)),
                ('titre', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True, null=True)),
                ('fichier', models.FileField(upload_to='fiscalite/documentation/')),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('declaration_irpp', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='documents', to='comptabilite.declarationirpp')),
                ('declaration_is', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='documents', to='comptabilite.declarationis')),
                ('dossier_fiscal', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='documentation', to='comptabilite.dossierfiscalcomplet')),
            ],
            options={
                'verbose_name': 'Documentation fiscale',
                'verbose_name_plural': 'Documentation fiscale',
                'db_table': 'fiscalite_documentation',
                'ordering': ['-date_creation'],
            },
        ),
        migrations.AddField(
            model_name='declarationis',
            name='dossier_fiscal',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='declarations_is', to='comptabilite.dossierfiscalcomplet'),
        ),
        migrations.AddField(
            model_name='declarationirpp',
            name='dossier_fiscal',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='declarations_irpp', to='comptabilite.dossierfiscalcomplet'),
        ),
        migrations.CreateModel(
            name='DeclarationCVAE',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reference', models.CharField(max_length=50)),
                ('annee', models.IntegerField()),
                ('chiffre_affaires', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('achats', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('services_exterieurs', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('autres_charges_externes', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('valeur_ajoutee', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('taux_cvae', models.DecimalField(decimal_places=4, default=Decimal('0.0075'), max_digits=5)),
                ('cvae_brute', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('degrevement', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('cvae_nette', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('cotisation_minimum', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('statut', models.CharField(choices=[('brouillon', 'Brouillon'), ('valide', 'Validé'), ('depose', 'Déposé'), ('paye', 'Payé')], default='brouillon', max_length=20)),
                ('date_depot', models.DateField(blank=True, null=True)),
                ('date_paiement', models.DateField(blank=True, null=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='declarations_cvae', to='core.entreprise')),
                ('dossier_fiscal', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='declarations_cvae', to='comptabilite.dossierfiscalcomplet')),
            ],
            options={
                'verbose_name': 'Déclaration CVAE',
                'verbose_name_plural': 'Déclarations CVAE',
                'db_table': 'fiscalite_declaration_cvae',
                'ordering': ['-annee'],
            },
        ),
        migrations.CreateModel(
            name='DeclarationCAT',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reference', models.CharField(max_length=50)),
                ('annee', models.IntegerField()),
                ('mois', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(12)])),
                ('montant_prestations', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15, verbose_name='Montant prestations techniques')),
                ('taux_cat', models.DecimalField(decimal_places=2, default=Decimal('10.00'), max_digits=5)),
                ('cat_brute', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('exonerations', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('cat_nette', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('statut', models.CharField(choices=[('brouillon', 'Brouillon'), ('valide', 'Validé'), ('depose', 'Déposé'), ('paye', 'Payé')], default='brouillon', max_length=20)),
                ('date_depot', models.DateField(blank=True, null=True)),
                ('date_paiement', models.DateField(blank=True, null=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='declarations_cat', to='core.entreprise')),
                ('dossier_fiscal', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='declarations_cat', to='comptabilite.dossierfiscalcomplet')),
            ],
            options={
                'verbose_name': 'Déclaration CAT',
                'verbose_name_plural': 'Déclarations CAT',
                'db_table': 'fiscalite_declaration_cat',
                'ordering': ['-annee', '-mois'],
            },
        ),
        migrations.CreateModel(
            name='HistoriqueDeclaration',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('type_declaration', models.CharField(max_length=20)),
                ('declaration_id', models.UUIDField()),
                ('type_modification', models.CharField(choices=[('creation', 'Création'), ('modification', 'Modification'), ('validation', 'Validation'), ('depot', 'Dépôt'), ('rectification', 'Rectification'), ('annulation', 'Annulation')], max_length=20)),
                ('description', models.TextField()),
                ('valeurs_avant', models.JSONField(blank=True, null=True)),
                ('valeurs_apres', models.JSONField(blank=True, null=True)),
                ('date_modification', models.DateTimeField(auto_now_add=True)),
                ('adresse_ip', models.GenericIPAddressField(blank=True, null=True)),
                ('modifie_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Historique déclaration',
                'verbose_name_plural': 'Historique déclarations',
                'db_table': 'fiscalite_historique_declaration',
                'ordering': ['-date_modification'],
            },
        ),
        migrations.CreateModel(
            name='LiasseFiscale',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reference', models.CharField(max_length=50)),
                ('type_liasse', models.CharField(choices=[('bic_rn', 'BIC Régime Normal'), ('bic_rs', 'BIC Régime Simplifié'), ('is', 'Impôt sur les Sociétés')], max_length=10)),
                ('annee', models.IntegerField()),
                ('statut', models.CharField(choices=[('en_cours', 'En cours'), ('complete', 'Complète'), ('validee', 'Validée'), ('deposee', 'Déposée')], default='en_cours', max_length=20)),
                ('formulaires_json', models.JSONField(blank=True, help_text='Données des formulaires en JSON', null=True)),
                ('fichier_pdf', models.FileField(blank=True, null=True, upload_to='fiscalite/liasses/')),
                ('date_validation', models.DateTimeField(blank=True, null=True)),
                ('date_depot', models.DateField(blank=True, null=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('dossier_fiscal', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='liasses', to='comptabilite.dossierfiscalcomplet')),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='liasses_fiscales', to='core.entreprise')),
                ('valide_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Liasse fiscale',
                'verbose_name_plural': 'Liasses fiscales',
                'db_table': 'fiscalite_liasse',
                'ordering': ['-annee'],
            },
        ),
        migrations.CreateModel(
            name='AnnexeFiscale',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('type_annexe', models.CharField(choices=[('2050', 'Bilan Actif'), ('2051', 'Bilan Passif'), ('2052', 'Compte de résultat (charges)'), ('2053', 'Compte de résultat (produits)'), ('2054', 'Immobilisations'), ('2055', 'Amortissements'), ('2056', 'Provisions'), ('2057', 'État des échéances'), ('2058A', 'Détermination résultat fiscal'), ('2058B', 'Déficits et provisions'), ('2058C', 'Tableau affectation résultat'), ('2059A', 'Plus-values'), ('2059B', 'Affectation plus-values'), ('autre', 'Autre annexe')], max_length=10)),
                ('numero_formulaire', models.CharField(max_length=20)),
                ('libelle', models.CharField(max_length=200)),
                ('donnees_json', models.JSONField(blank=True, null=True)),
                ('est_complete', models.BooleanField(default=False)),
                ('est_obligatoire', models.BooleanField(default=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('liasse', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='annexes', to='comptabilite.liassefiscale')),
            ],
            options={
                'verbose_name': 'Annexe fiscale',
                'verbose_name_plural': 'Annexes fiscales',
                'db_table': 'fiscalite_annexe',
                'ordering': ['type_annexe'],
            },
        ),
        migrations.CreateModel(
            name='MatriceRisques',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reference', models.CharField(max_length=50)),
                ('titre', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('categorie', models.CharField(choices=[('operationnel', 'Risque opérationnel'), ('financier', 'Risque financier'), ('conformite', 'Risque de conformité'), ('fraude', 'Risque de fraude'), ('it', 'Risque IT/Cybersécurité'), ('reputation', 'Risque de réputation')], max_length=20)),
                ('impact_inherent', models.IntegerField(choices=[(1, 'Négligeable'), (2, 'Mineur'), (3, 'Modéré'), (4, 'Majeur'), (5, 'Critique')])),
                ('probabilite_inherente', models.IntegerField(choices=[(1, 'Très rare'), (2, 'Rare'), (3, 'Possible'), (4, 'Probable'), (5, 'Très probable')])),
                ('score_inherent', models.IntegerField(default=0)),
                ('impact_residuel', models.IntegerField(blank=True, choices=[(1, 'Négligeable'), (2, 'Mineur'), (3, 'Modéré'), (4, 'Majeur'), (5, 'Critique')], null=True)),
                ('probabilite_residuelle', models.IntegerField(blank=True, choices=[(1, 'Très rare'), (2, 'Rare'), (3, 'Possible'), (4, 'Probable'), (5, 'Très probable')], null=True)),
                ('score_residuel', models.IntegerField(default=0)),
                ('processus', models.CharField(max_length=100)),
                ('sous_processus', models.CharField(blank=True, max_length=100, null=True)),
                ('statut', models.CharField(choices=[('identifie', 'Identifié'), ('evalue', 'Évalué'), ('traite', 'Traité'), ('accepte', 'Accepté'), ('cloture', 'Clôturé')], default='identifie', max_length=20)),
                ('strategie_traitement', models.TextField(blank=True, null=True)),
                ('date_revue', models.DateField(blank=True, null=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='risques_crees', to=settings.AUTH_USER_MODEL)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='risques_controle', to='core.entreprise')),
                ('proprietaire', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='risques_proprietaire', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Risque',
                'verbose_name_plural': 'Matrice des risques',
                'db_table': 'controle_matrice_risques',
                'ordering': ['-score_inherent'],
            },
        ),
        migrations.CreateModel(
            name='ProcedureControle',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=20)),
                ('titre', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('objectif', models.TextField()),
                ('type_controle', models.CharField(choices=[('preventif', 'Contrôle préventif'), ('detectif', 'Contrôle détectif'), ('correctif', 'Contrôle correctif')], max_length=15)),
                ('frequence', models.CharField(choices=[('continu', 'Continu'), ('quotidien', 'Quotidien'), ('hebdomadaire', 'Hebdomadaire'), ('mensuel', 'Mensuel'), ('trimestriel', 'Trimestriel'), ('annuel', 'Annuel'), ('ponctuel', 'Ponctuel')], max_length=15)),
                ('processus', models.CharField(max_length=100)),
                ('etapes_controle', models.TextField(verbose_name='Étapes du contrôle')),
                ('documents_requis', models.TextField(blank=True, null=True)),
                ('criteres_succes', models.TextField(blank=True, null=True)),
                ('statut', models.CharField(choices=[('brouillon', 'Brouillon'), ('active', 'Active'), ('suspendue', 'Suspendue'), ('obsolete', 'Obsolète')], default='brouillon', max_length=15)),
                ('date_mise_en_vigueur', models.DateField(blank=True, null=True)),
                ('date_derniere_revue', models.DateField(blank=True, null=True)),
                ('prochaine_revue', models.DateField(blank=True, null=True)),
                ('version', models.CharField(default='1.0', max_length=10)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='procedures_creees', to=settings.AUTH_USER_MODEL)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='procedures_controle', to='core.entreprise')),
                ('responsable', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='procedures_responsable', to=settings.AUTH_USER_MODEL)),
                ('risques', models.ManyToManyField(blank=True, related_name='procedures', to='comptabilite.matricerisques')),
            ],
            options={
                'verbose_name': 'Procédure de contrôle',
                'verbose_name_plural': 'Procédures de contrôle',
                'db_table': 'controle_procedure',
                'ordering': ['code'],
                'unique_together': {('entreprise', 'code')},
            },
        ),
        migrations.CreateModel(
            name='RapportControleInterne',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reference', models.CharField(max_length=50)),
                ('titre', models.CharField(max_length=200)),
                ('type_rapport', models.CharField(choices=[('mensuel', 'Rapport mensuel'), ('trimestriel', 'Rapport trimestriel'), ('annuel', 'Rapport annuel'), ('special', 'Rapport spécial')], max_length=15)),
                ('date_debut_periode', models.DateField()),
                ('date_fin_periode', models.DateField()),
                ('resume_executif', models.TextField()),
                ('constats_principaux', models.TextField()),
                ('recommandations', models.TextField()),
                ('plan_action', models.TextField(blank=True, null=True)),
                ('nb_tests_realises', models.IntegerField(default=0)),
                ('nb_tests_reussis', models.IntegerField(default=0)),
                ('nb_non_conformites', models.IntegerField(default=0)),
                ('taux_conformite', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('statut', models.CharField(choices=[('brouillon', 'Brouillon'), ('en_revue', 'En revue'), ('valide', 'Validé'), ('diffuse', 'Diffusé')], default='brouillon', max_length=15)),
                ('date_validation', models.DateTimeField(blank=True, null=True)),
                ('fichier_rapport', models.FileField(blank=True, null=True, upload_to='controle/rapports/')),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rapports_controle', to='core.entreprise')),
                ('redige_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='rapports_rediges', to=settings.AUTH_USER_MODEL)),
                ('valide_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='rapports_valides', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Rapport de contrôle interne',
                'verbose_name_plural': 'Rapports de contrôle interne',
                'db_table': 'controle_rapport',
                'ordering': ['-date_fin_periode'],
            },
        ),
        migrations.CreateModel(
            name='ReclassementCharge',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reference', models.CharField(max_length=50)),
                ('date_reclassement', models.DateField()),
                ('motif', models.CharField(choices=[('erreur', "Correction d'erreur"), ('reorganisation', 'Réorganisation'), ('refacturation', 'Refacturation interne'), ('ajustement', 'Ajustement périodique')], max_length=20)),
                ('montant', models.DecimalField(decimal_places=2, max_digits=15)),
                ('libelle', models.CharField(max_length=200)),
                ('justification', models.TextField(blank=True, null=True)),
                ('statut', models.CharField(choices=[('brouillon', 'Brouillon'), ('valide', 'Validé'), ('comptabilise', 'Comptabilisé'), ('annule', 'Annulé')], default='brouillon', max_length=15)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('centre_destination', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reclassements_entrants', to='comptabilite.centrecouts')),
                ('centre_source', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reclassements_sortants', to='comptabilite.centrecouts')),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reclassements_crees', to=settings.AUTH_USER_MODEL)),
                ('ecriture', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='comptabilite.ecriturecomptable')),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reclassements_charges', to='core.entreprise')),
                ('valide_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reclassements_valides', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Reclassement de charge',
                'verbose_name_plural': 'Reclassements de charges',
                'db_table': 'analytique_reclassement',
                'ordering': ['-date_reclassement'],
            },
        ),
        migrations.CreateModel(
            name='RepriseCharge',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reference', models.CharField(max_length=50)),
                ('date_reprise', models.DateField()),
                ('periode', models.CharField(max_length=7)),
                ('type_reprise', models.CharField(choices=[('prestation', 'Prestation de service'), ('utilisation', 'Utilisation de ressource'), ('quote_part', 'Quote-part de frais')], max_length=15)),
                ('quantite', models.DecimalField(decimal_places=4, max_digits=15)),
                ('prix_unitaire', models.DecimalField(decimal_places=4, max_digits=15)),
                ('montant_total', models.DecimalField(decimal_places=2, max_digits=15)),
                ('libelle', models.CharField(max_length=200)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('centre_beneficiaire', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reprises_recues', to='comptabilite.centrecouts')),
                ('centre_fournisseur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reprises_fournies', to='comptabilite.centrecouts')),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('ecriture', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='comptabilite.ecriturecomptable')),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reprises_charges', to='core.entreprise')),
            ],
            options={
                'verbose_name': 'Reprise de charge',
                'verbose_name_plural': 'Reprises de charges',
                'db_table': 'analytique_reprise_charge',
                'ordering': ['-date_reprise'],
            },
        ),
        migrations.CreateModel(
            name='RobustesseControleFiscal',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reference', models.CharField(max_length=50)),
                ('titre', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('niveau_risque', models.CharField(choices=[('faible', 'Faible'), ('moyen', 'Moyen'), ('eleve', 'Élevé'), ('critique', 'Critique')], max_length=10)),
                ('impact_financier_estime', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('probabilite', models.IntegerField(help_text='1=Très faible, 5=Très élevée', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('point_controle', models.TextField(verbose_name='Point de contrôle')),
                ('justification', models.TextField(blank=True, null=True)),
                ('documents_support', models.TextField(blank=True, help_text='Liste des documents justificatifs', null=True)),
                ('statut', models.CharField(choices=[('identifie', 'Identifié'), ('en_cours', 'En cours de traitement'), ('resolu', 'Résolu'), ('accepte', 'Risque accepté')], default='identifie', max_length=20)),
                ('actions_correctives', models.TextField(blank=True, null=True)),
                ('date_resolution', models.DateField(blank=True, null=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('dossier_fiscal', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='controles_robustesse', to='comptabilite.dossierfiscalcomplet')),
                ('identifie_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='risques_fiscaux_identifies', to=settings.AUTH_USER_MODEL)),
                ('resolu_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='risques_fiscaux_resolus', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Contrôle robustesse fiscale',
                'verbose_name_plural': 'Contrôles robustesse fiscale',
                'db_table': 'fiscalite_robustesse_controle',
                'ordering': ['-niveau_risque', '-date_creation'],
            },
        ),
        migrations.CreateModel(
            name='SectionAnalytique',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=20)),
                ('libelle', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True, null=True)),
                ('type_section', models.CharField(choices=[('produit', 'Produit'), ('service', 'Service'), ('projet', 'Projet'), ('client', 'Client'), ('region', 'Région'), ('canal', 'Canal de distribution'), ('activite', 'Activité')], max_length=15)),
                ('est_active', models.BooleanField(default=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('centre_couts', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='sections', to='comptabilite.centrecouts')),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sections_analytiques', to='core.entreprise')),
                ('section_parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='sous_sections', to='comptabilite.sectionanalytique')),
            ],
            options={
                'verbose_name': 'Section analytique',
                'verbose_name_plural': 'Sections analytiques',
                'db_table': 'analytique_section',
                'ordering': ['code'],
                'unique_together': {('entreprise', 'code')},
            },
        ),
        migrations.CreateModel(
            name='RapportAnalytique',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reference', models.CharField(max_length=50)),
                ('titre', models.CharField(max_length=200)),
                ('type_rapport', models.CharField(choices=[('resultat_centre', 'Résultat par centre'), ('resultat_section', 'Résultat par section'), ('profitabilite', 'Analyse de profitabilité'), ('variance', 'Analyse des écarts'), ('cout_revient', 'Coût de revient'), ('tableau_bord', 'Tableau de bord')], max_length=20)),
                ('periodicite', models.CharField(choices=[('mensuel', 'Mensuel'), ('trimestriel', 'Trimestriel'), ('annuel', 'Annuel')], max_length=15)),
                ('periode_debut', models.DateField()),
                ('periode_fin', models.DateField()),
                ('donnees_json', models.JSONField(blank=True, null=True)),
                ('total_charges', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('total_produits', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('resultat_analytique', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('marge_brute', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='En pourcentage', max_digits=8)),
                ('fichier_rapport', models.FileField(blank=True, null=True, upload_to='analytique/rapports/')),
                ('date_generation', models.DateTimeField(auto_now_add=True)),
                ('centres_inclus', models.ManyToManyField(blank=True, related_name='rapports', to='comptabilite.centrecouts')),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rapports_analytiques', to='core.entreprise')),
                ('exercice', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rapports_analytiques', to='comptabilite.exercicecomptable')),
                ('genere_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('sections_incluses', models.ManyToManyField(blank=True, related_name='rapports', to='comptabilite.sectionanalytique')),
            ],
            options={
                'verbose_name': 'Rapport analytique',
                'verbose_name_plural': 'Rapports analytiques',
                'db_table': 'analytique_rapport',
                'ordering': ['-periode_fin'],
            },
        ),
        migrations.CreateModel(
            name='CommandeAnalytique',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('numero', models.CharField(max_length=20)),
                ('libelle', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True, null=True)),
                ('type_commande', models.CharField(choices=[('investissement', 'Investissement'), ('maintenance', 'Maintenance'), ('projet', 'Projet'), ('marketing', 'Marketing'), ('rd', 'R&D'), ('formation', 'Formation'), ('autre', 'Autre')], max_length=15)),
                ('budget_prevu', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('montant_engage', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('montant_realise', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('date_debut', models.DateField()),
                ('date_fin_prevue', models.DateField()),
                ('date_fin_reelle', models.DateField(blank=True, null=True)),
                ('statut', models.CharField(choices=[('ouverte', 'Ouverte'), ('en_cours', 'En cours'), ('terminee', 'Terminée'), ('cloturee', 'Clôturée'), ('annulee', 'Annulée')], default='ouverte', max_length=15)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('centre_couts', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='commandes', to='comptabilite.centrecouts')),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='commandes_analytiques', to='core.entreprise')),
                ('responsable', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='commandes_responsable', to=settings.AUTH_USER_MODEL)),
                ('section', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='commandes', to='comptabilite.sectionanalytique')),
            ],
            options={
                'verbose_name': 'Commande analytique',
                'verbose_name_plural': 'Commandes analytiques',
                'db_table': 'analytique_commande',
                'ordering': ['-date_debut'],
                'unique_together': {('entreprise', 'numero')},
            },
        ),
        migrations.CreateModel(
            name='BudgetAnalytique',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('type_budget', models.CharField(choices=[('initial', 'Budget initial'), ('revise', 'Budget révisé'), ('previsionnel', 'Prévisionnel')], default='initial', max_length=15)),
                ('periode', models.CharField(help_text='Format: YYYY-MM', max_length=7)),
                ('budget_charges', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('budget_produits', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('detail_par_compte', models.JSONField(blank=True, null=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='budgets_analytiques', to='core.entreprise')),
                ('exercice', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='budgets_analytiques', to='comptabilite.exercicecomptable')),
                ('centre_couts', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='budgets', to='comptabilite.centrecouts')),
                ('section', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='budgets', to='comptabilite.sectionanalytique')),
            ],
            options={
                'verbose_name': 'Budget analytique',
                'verbose_name_plural': 'Budgets analytiques',
                'db_table': 'analytique_budget',
                'ordering': ['exercice', 'periode'],
            },
        ),
        migrations.CreateModel(
            name='AnalyseVariance',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('periode', models.CharField(max_length=7)),
                ('type_ecart', models.CharField(choices=[('volume', 'Écart sur volume'), ('prix', 'Écart sur prix'), ('rendement', 'Écart sur rendement'), ('mix', 'Écart de mix'), ('global', 'Écart global')], max_length=15)),
                ('montant_budget', models.DecimalField(decimal_places=2, max_digits=15)),
                ('montant_reel', models.DecimalField(decimal_places=2, max_digits=15)),
                ('ecart_montant', models.DecimalField(decimal_places=2, max_digits=15)),
                ('ecart_pourcentage', models.DecimalField(decimal_places=2, max_digits=8)),
                ('favorable', models.BooleanField(default=True)),
                ('explication', models.TextField(blank=True, null=True)),
                ('actions_correctives', models.TextField(blank=True, null=True)),
                ('date_analyse', models.DateTimeField(auto_now_add=True)),
                ('analyse_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='analyses_variance', to='core.entreprise')),
                ('exercice', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='analyses_variance', to='comptabilite.exercicecomptable')),
                ('centre_couts', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='analyses_variance', to='comptabilite.centrecouts')),
                ('section', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='analyses_variance', to='comptabilite.sectionanalytique')),
            ],
            options={
                'verbose_name': 'Analyse de variance',
                'verbose_name_plural': 'Analyses de variance',
                'db_table': 'analytique_variance',
                'ordering': ['-periode', '-ecart_montant'],
            },
        ),
        migrations.CreateModel(
            name='SegregationTaches',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('type_conflit', models.CharField(choices=[('incompatible', 'Fonctions incompatibles'), ('concentration', 'Concentration de pouvoirs'), ('auto_controle', 'Auto-contrôle')], max_length=15)),
                ('fonction_1', models.CharField(max_length=100)),
                ('fonction_2', models.CharField(max_length=100)),
                ('description', models.TextField()),
                ('niveau_risque', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('statut', models.CharField(choices=[('detecte', 'Détecté'), ('analyse', 'En analyse'), ('justifie', 'Justifié'), ('corrige', 'Corrigé'), ('accepte', 'Risque accepté')], default='detecte', max_length=15)),
                ('justification', models.TextField(blank=True, null=True)),
                ('mesures_compensatoires', models.TextField(blank=True, null=True)),
                ('date_detection', models.DateTimeField(auto_now_add=True)),
                ('date_resolution', models.DateTimeField(blank=True, null=True)),
                ('detecte_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='conflits_detectes', to=settings.AUTH_USER_MODEL)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='conflits_segregation', to='core.entreprise')),
                ('utilisateur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='conflits_segregation', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Conflit de ségrégation',
                'verbose_name_plural': 'Conflits de ségrégation',
                'db_table': 'controle_segregation_taches',
                'ordering': ['-niveau_risque', '-date_detection'],
            },
        ),
        migrations.CreateModel(
            name='TauxRepartition',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('pourcentage', models.DecimalField(decimal_places=2, max_digits=6, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('date_debut', models.DateField()),
                ('date_fin', models.DateField(blank=True, null=True)),
                ('centre_couts', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='taux_repartition', to='comptabilite.centrecouts')),
                ('cle', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='taux', to='comptabilite.clerepartition')),
            ],
            options={
                'verbose_name': 'Taux de répartition',
                'verbose_name_plural': 'Taux de répartition',
                'db_table': 'analytique_taux_repartition',
            },
        ),
        migrations.CreateModel(
            name='TestControle',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reference', models.CharField(max_length=50)),
                ('titre', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('type_test', models.CharField(choices=[('automatique', 'Automatique'), ('manuel', 'Manuel'), ('semi_auto', 'Semi-automatique')], max_length=15)),
                ('date_execution', models.DateTimeField()),
                ('resultat', models.CharField(choices=[('reussi', 'Réussi'), ('echoue', 'Échoué'), ('partiel', 'Partiellement réussi'), ('non_applicable', 'Non applicable'), ('en_cours', 'En cours')], default='en_cours', max_length=15)),
                ('score', models.IntegerField(blank=True, help_text='Score en %', null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('observations', models.TextField(blank=True, null=True)),
                ('anomalies_detectees', models.TextField(blank=True, null=True)),
                ('recommandations', models.TextField(blank=True, null=True)),
                ('pieces_jointes', models.FileField(blank=True, null=True, upload_to='controle/tests/')),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('execute_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='tests_executes', to=settings.AUTH_USER_MODEL)),
                ('procedure', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='tests', to='comptabilite.procedurecontrole')),
            ],
            options={
                'verbose_name': 'Test de contrôle',
                'verbose_name_plural': 'Tests de contrôle',
                'db_table': 'controle_test',
                'ordering': ['-date_execution'],
            },
        ),
        migrations.CreateModel(
            name='NonConformite',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reference', models.CharField(max_length=50)),
                ('titre', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('niveau_gravite', models.CharField(choices=[('mineur', 'Mineur'), ('majeur', 'Majeur'), ('critique', 'Critique')], max_length=10)),
                ('origine', models.CharField(choices=[('audit_interne', 'Audit interne'), ('audit_externe', 'Audit externe'), ('test_controle', 'Test de contrôle'), ('incident', 'Incident'), ('reclamation', 'Réclamation'), ('auto_evaluation', 'Auto-évaluation')], max_length=20)),
                ('cause_racine', models.TextField(blank=True, null=True)),
                ('impact', models.TextField(blank=True, null=True)),
                ('actions_correctives', models.TextField(blank=True, null=True)),
                ('actions_preventives', models.TextField(blank=True, null=True)),
                ('date_echeance', models.DateField(blank=True, null=True)),
                ('statut', models.CharField(choices=[('ouverte', 'Ouverte'), ('en_analyse', 'En analyse'), ('plan_action', "Plan d'action défini"), ('en_correction', 'En correction'), ('verifiee', 'Vérifiée'), ('cloturee', 'Clôturée')], default='ouverte', max_length=15)),
                ('date_detection', models.DateField()),
                ('date_resolution', models.DateField(blank=True, null=True)),
                ('date_verification', models.DateField(blank=True, null=True)),
                ('efficacite_verifiee', models.BooleanField(default=False)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('cree_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='nc_creees', to=settings.AUTH_USER_MODEL)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='non_conformites', to='core.entreprise')),
                ('responsable_correction', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='corrections_responsable', to=settings.AUTH_USER_MODEL)),
                ('risque', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='non_conformites', to='comptabilite.matricerisques')),
                ('verifie_par', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='verifications_nc', to=settings.AUTH_USER_MODEL)),
                ('procedure', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='non_conformites', to='comptabilite.procedurecontrole')),
                ('test', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='non_conformites', to='comptabilite.testcontrole')),
            ],
            options={
                'verbose_name': 'Non-conformité',
                'verbose_name_plural': 'Non-conformités',
                'db_table': 'controle_non_conformite',
                'ordering': ['-date_detection'],
            },
        ),
        migrations.CreateModel(
            name='WorkflowApprobation',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('type_document', models.CharField(max_length=50)),
                ('document_id', models.UUIDField()),
                ('reference_document', models.CharField(max_length=100)),
                ('montant', models.DecimalField(decimal_places=2, max_digits=15)),
                ('date_demande', models.DateTimeField(auto_now_add=True)),
                ('statut', models.CharField(choices=[('en_attente', 'En attente'), ('niveau_1', 'Niveau 1'), ('niveau_2', 'Niveau 2'), ('niveau_3', 'Niveau 3'), ('niveau_4', 'Niveau 4'), ('approuve', 'Approuvé'), ('rejete', 'Rejeté'), ('annule', 'Annulé')], default='en_attente', max_length=15)),
                ('niveau_actuel', models.IntegerField(default=1)),
                ('date_debut', models.DateTimeField(auto_now_add=True)),
                ('date_fin', models.DateTimeField(blank=True, null=True)),
                ('commentaire_demande', models.TextField(blank=True, null=True)),
                ('demandeur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='workflows_demandes', to=settings.AUTH_USER_MODEL)),
                ('matrice', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='workflows', to='comptabilite.approvalmatrix')),
            ],
            options={
                'verbose_name': "Workflow d'approbation",
                'verbose_name_plural': "Workflows d'approbation",
                'db_table': 'controle_workflow_approbation',
                'ordering': ['-date_demande'],
            },
        ),
        migrations.CreateModel(
            name='EtapeApprobation',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('niveau', models.IntegerField()),
                ('decision', models.CharField(choices=[('en_attente', 'En attente'), ('approuve', 'Approuvé'), ('rejete', 'Rejeté'), ('demande_info', "Demande d'information"), ('delegue', 'Délégué')], default='en_attente', max_length=15)),
                ('commentaire', models.TextField(blank=True, null=True)),
                ('date_assignation', models.DateTimeField(auto_now_add=True)),
                ('date_decision', models.DateTimeField(blank=True, null=True)),
                ('date_limite', models.DateTimeField(blank=True, null=True)),
                ('approbateur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='etapes_approbation', to=settings.AUTH_USER_MODEL)),
                ('delegue_a', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='etapes_deleguees', to=settings.AUTH_USER_MODEL)),
                ('workflow', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='etapes', to='comptabilite.workflowapprobation')),
            ],
            options={
                'verbose_name': "Étape d'approbation",
                'verbose_name_plural': "Étapes d'approbation",
                'db_table': 'controle_etape_approbation',
                'ordering': ['workflow', 'niveau'],
            },
        ),
        migrations.CreateModel(
            name='ImputationAnalytique',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('type_imputation', models.CharField(choices=[('directe', 'Imputation directe'), ('indirecte', 'Imputation indirecte'), ('repartition', 'Répartition')], default='directe', max_length=15)),
                ('montant_debit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('montant_credit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('quantite', models.DecimalField(blank=True, decimal_places=4, max_digits=15, null=True)),
                ('unite', models.CharField(blank=True, max_length=20, null=True)),
                ('pourcentage_repartition', models.DecimalField(blank=True, decimal_places=2, max_digits=6, null=True)),
                ('date_imputation', models.DateField()),
                ('periode', models.CharField(help_text='Format: YYYY-MM', max_length=7)),
                ('libelle', models.CharField(max_length=200)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('centre_couts', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='imputations', to='comptabilite.centrecouts')),
                ('cle_repartition', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='comptabilite.clerepartition')),
                ('commande', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='imputations', to='comptabilite.commandeanalytique')),
                ('compte', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='imputations_analytiques', to='comptabilite.plancomptable')),
                ('ecriture', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='imputations_analytiques', to='comptabilite.ecriturecomptable')),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='imputations_analytiques', to='core.entreprise')),
                ('section', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='imputations', to='comptabilite.sectionanalytique')),
            ],
            options={
                'verbose_name': 'Imputation analytique',
                'verbose_name_plural': 'Imputations analytiques',
                'db_table': 'analytique_imputation',
                'ordering': ['-date_imputation'],
                'indexes': [models.Index(fields=['centre_couts', 'periode'], name='analytique__centre__c8e643_idx'), models.Index(fields=['section', 'periode'], name='analytique__section_34fab0_idx')],
            },
        ),
        migrations.CreateModel(
            name='TableauBordAnalytique',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('periode', models.CharField(max_length=7)),
                ('charges_directes', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('charges_indirectes', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('total_charges', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('produits', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('resultat', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('budget_periode', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('ecart_budget', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('taux_realisation', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=8)),
                ('charges_n1', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('evolution_n1', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=8)),
                ('date_calcul', models.DateTimeField(auto_now=True)),
                ('centre_couts', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='tableaux_bord', to='comptabilite.centrecouts')),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='tableaux_bord_analytiques', to='core.entreprise')),
            ],
            options={
                'verbose_name': 'Tableau de bord analytique',
                'verbose_name_plural': 'Tableaux de bord analytiques',
                'db_table': 'analytique_tableau_bord',
                'ordering': ['-periode'],
                'unique_together': {('entreprise', 'periode', 'centre_couts')},
            },
        ),
        migrations.CreateModel(
            name='TraceModification',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('type_action', models.CharField(choices=[('creation', 'Création'), ('modification', 'Modification'), ('suppression', 'Suppression'), ('validation', 'Validation'), ('approbation', 'Approbation'), ('rejet', 'Rejet'), ('consultation', 'Consultation')], max_length=15)),
                ('type_objet', models.CharField(max_length=100)),
                ('objet_id', models.UUIDField()),
                ('reference_objet', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('champs_modifies', models.JSONField(blank=True, null=True)),
                ('valeurs_avant', models.JSONField(blank=True, null=True)),
                ('valeurs_apres', models.JSONField(blank=True, null=True)),
                ('date_action', models.DateTimeField(auto_now_add=True)),
                ('adresse_ip', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True, null=True)),
                ('entreprise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='traces_modifications', to='core.entreprise')),
                ('utilisateur', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Trace de modification',
                'verbose_name_plural': 'Traces de modifications',
                'db_table': 'controle_trace_modification',
                'ordering': ['-date_action'],
                'indexes': [models.Index(fields=['type_objet', 'objet_id'], name='controle_tr_type_ob_a21de1_idx'), models.Index(fields=['utilisateur', 'date_action'], name='controle_tr_utilisa_f63747_idx')],
            },
        ),
    ]
