{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<style>
    .compta-sidebar {
        background: linear-gradient(135deg, #1a237e 0%, #283593 100%);
        min-height: calc(100vh - 56px);
    }
    .compta-sidebar .nav-link {
        color: rgba(255,255,255,0.8);
        padding: 0.75rem 1rem;
        border-radius: 8px;
        margin: 2px 0;
        transition: all 0.3s;
    }
    .compta-sidebar .nav-link:hover,
    .compta-sidebar .nav-link.active {
        background: rgba(255,255,255,0.15);
        color: #fff;
    }
    .compta-sidebar .nav-link i {
        width: 24px;
    }
    .compta-header {
        background: linear-gradient(135deg, #1a237e 0%, #283593 100%);
        color: white;
        padding: 1rem;
        border-radius: 12px;
        margin-bottom: 1.5rem;
    }
    .stat-card-compta {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        transition: transform 0.3s;
    }
    .stat-card-compta:hover {
        transform: translateY(-5px);
    }
    .stat-card-compta .stat-icon {
        width: 50px;
        height: 50px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <!-- Sidebar Comptabilité -->
        <div class="col-md-2 compta-sidebar p-3 d-none d-md-block">
            <h5 class="text-white mb-4">
                <i class="bi bi-calculator me-2"></i>Comptabilité
            </h5>
            <nav class="nav flex-column">
                <a class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}" href="{% url 'comptabilite:dashboard' %}">
                    <i class="bi bi-speedometer2 me-2"></i>Tableau de bord
                </a>
                <hr class="border-light my-2">
                <small class="text-white-50 px-3 mb-2">SAISIE</small>
                <a class="nav-link {% if 'ecriture' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'comptabilite:ecriture_list' %}">
                    <i class="bi bi-journal-text me-2"></i>Écritures
                </a>
                <a class="nav-link {% if 'facture' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'comptabilite:facture_list' %}">
                    <i class="bi bi-receipt me-2"></i>Factures
                </a>
                <a class="nav-link {% if 'reglement' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'comptabilite:reglement_list' %}">
                    <i class="bi bi-cash-stack me-2"></i>Règlements
                </a>
                <hr class="border-light my-2">
                <small class="text-white-50 px-3 mb-2">PARAMÈTRES</small>
                <a class="nav-link {% if 'plan_comptable' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'comptabilite:plan_comptable_list' %}">
                    <i class="bi bi-list-columns me-2"></i>Plan comptable
                </a>
                <a class="nav-link {% if 'journal' in request.resolver_match.url_name and 'general' not in request.resolver_match.url_name %}active{% endif %}" href="{% url 'comptabilite:journal_list' %}">
                    <i class="bi bi-book me-2"></i>Journaux
                </a>
                <a class="nav-link {% if 'exercice' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'comptabilite:exercice_list' %}">
                    <i class="bi bi-calendar-range me-2"></i>Exercices
                </a>
                <a class="nav-link {% if 'tiers' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'comptabilite:tiers_list' %}">
                    <i class="bi bi-people me-2"></i>Tiers
                </a>
                <hr class="border-light my-2">
                <small class="text-white-50 px-3 mb-2">ÉTATS</small>
                <a class="nav-link {% if 'grand_livre' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'comptabilite:grand_livre' %}">
                    <i class="bi bi-file-earmark-text me-2"></i>Grand livre
                </a>
                <a class="nav-link {% if 'balance' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'comptabilite:balance' %}">
                    <i class="bi bi-bar-chart me-2"></i>Balance
                </a>
                <a class="nav-link {% if 'journal_general' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'comptabilite:journal_general' %}">
                    <i class="bi bi-journal me-2"></i>Journal général
                </a>
                <a class="nav-link {% if 'bilan' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'comptabilite:bilan' %}">
                    <i class="bi bi-pie-chart me-2"></i>Bilan
                </a>
                <a class="nav-link {% if 'compte_resultat' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'comptabilite:compte_resultat' %}">
                    <i class="bi bi-graph-up me-2"></i>Compte de résultat
                </a>
            </nav>
        </div>
        
        <!-- Contenu principal -->
        <div class="col-md-10 p-4">
            {% block compta_content %}{% endblock %}
        </div>
    </div>
</div>
{% endblock %}
